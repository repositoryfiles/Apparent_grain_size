## 概要
GrainSize.pyは、結晶粒界が現出している組織画像について、JIS G0551の切断法によりオーステナイト結晶粒度を求めるプログラムです。
ここで、結晶粒界が現出している組織画像とは下図のようなものをいいます。


図 SCM435の組織画像（AGSエッチング液による）

## 動作環境
GrainSize.pyは、Pythonがインストールされたパソコンで動作します。このプログラムの実行には、画像処理のライブラリOpenCVが必要です。

## 使い方
1. GrainSize.pyを適当なフォルダに置きます。
2. GrainSize.pyの18～20行目を設定します。
3. PictureWidthには、画像の幅（単位：mm）を入力します。
4. Magnificationには、顕微鏡で撮影した倍率を入力します。<br>
※プログラムの初期値は、画像を幅142mmで表示すると、倍率1000倍の組織画像になるという設定になっています。
5. miniGraSizeには、画像の幅に対する結晶粒の最小サイズを入力します。
6. 93行目のiDirには、ダイアログ「画像ファイルを選んでください」で最初に表示させたいフォルダを設定します。<br>
上記2.のiDirに設定したフォルダにSample_A～Cのような組織画像を格納して、GrainSize.pyを実行します。GrainSize.pyと組織画像は全角文字を含まないフォルダに格納してください。<br>
7. プログラムを実行すると最初にダイアログ「画像ファイルを選んでください」が表示されるので、調べたい組織画像を選択します。少し待つと、同心円が三個描画された組織画像が表示されます。同心円上の丸い点は同心円を横切る結晶粒界の位置を示しています。また、コンソールには<br>
Number of grain boundaries : 69<br>
Number of grain boundaries per 1 mm : 138.0<br>
Apparent grain size : 10.9<br>
が表示されます。<br>
これらは、現時点においての　同心円を横切る結晶粒界の個数、同心円の長さ1mm当たりの結晶粒界の数、粒度番号　です。
8. 同心円状の丸い点は、マウスの左クリックで削除することができ、また、右クリックで追加できます。それに伴い、コンソールに表示される数値も更新されます。<br>
表示されているwindowの大きさは自由に変更できます。windowに表示されている画像はいつでも保存できます。
9. 画像を閉じるか、任意のキーを押すと、プログラムは終了します。終了方法は、プログラムの最後の部分を書き換えれば変更できます。

## ご利用に関して
- このプログラムでは、結晶粒界が明瞭に現出されている組織画像に対して、結晶粒界を判別することができます。
- このプログラムは、JIS G0551の線分法を完全には対応しておりません。JIS G0551の内容をご理解の上、ご利用ください。
- ご利用結果について当方は責任は負いません。

## 開発環境
- Windows11
- VSC 1.85.2
- Python 3.9.18
- OpenCV 4.5.0
